(()=>{(function(){"use strict";var it=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"k-komments"},[s("k-list",{attrs:{"data-size":"medium"}},t._l(t.komments,function(r){return s("k-list-item",{key:r.title,attrs:{link:r.url+"#komments",info:""+r.author,text:r.title+" - "+r.komment,image:{ratio:"1/1",cover:!0,back:"pattern",url:r.image},target:"_self"}})}),1)],1)},at=[];function N(t,e,s,r,i,n,a,l){var o=typeof t=="function"?t.options:t;e&&(o.render=e,o.staticRenderFns=s,o._compiled=!0),r&&(o.functional=!0),n&&(o._scopeId="data-v-"+n);var h;if(a?(h=function(m){m=m||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!m&&typeof __VUE_SSR_CONTEXT__!="undefined"&&(m=__VUE_SSR_CONTEXT__),i&&i.call(this,m),m&&m._registeredComponents&&m._registeredComponents.add(a)},o._ssrRegister=h):i&&(h=l?function(){i.call(this,(o.functional?this.parent:this).$root.$options.shadowRoot)}:i),h)if(o.functional){o._injectStyles=h;var f=o.render;o.render=function(u,ee){return h.call(ee),f(u,ee)}}else{var c=o.beforeCreate;o.beforeCreate=c?[].concat(c,h):[h]}return{exports:t,options:o}}const ot={data(){return{komments:[]}},created(){this.load()},methods:{load(){this.$api.get("komments/queued").then(t=>{this.komments=t})}}},Ee={};var lt=N(ot,it,at,!1,ct,null,null,null);function ct(t){for(let e in Ee)this[e]=Ee[e]}var ut=function(){return lt.exports}(),ht=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"k-spam-komments"},[s("k-list",{attrs:{"data-size":"medium"}},t._l(t.komments,function(r){return s("k-list-item",{key:r.title,attrs:{link:r.url+"#komments",info:""+r.author,text:r.title+" - "+r.komment,image:{ratio:"1/1",cover:!0,back:"pattern",url:r.image},target:"_self"}})}),1)],1)},ft=[];const mt={data(){return{komments:[]}},created(){this.load()},methods:{load(){this.$api.get("komments/spam").then(t=>{this.komments=t})}}},_e={};var vt=N(mt,ht,ft,!1,pt,null,null,null);function pt(t){for(let e in _e)this[e]=_e[e]}var dt=function(){return vt.exports}(),T={exports:{}};const $t="2.0.0",Et=256,_t=Number.MAX_SAFE_INTEGER||9007199254740991;var V={SEMVER_SPEC_VERSION:$t,MAX_LENGTH:Et,MAX_SAFE_INTEGER:_t,MAX_SAFE_COMPONENT_LENGTH:16},X=typeof process=="object"&&process.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:s}=V,r=X;e=t.exports={};const i=e.re=[],n=e.src=[],a=e.t={};let l=0;const o=(h,f,c)=>{const m=l++;r(m,f),a[h]=m,n[m]=f,i[m]=new RegExp(f,c?"g":void 0)};o("NUMERICIDENTIFIER","0|[1-9]\\d*"),o("NUMERICIDENTIFIERLOOSE","[0-9]+"),o("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),o("MAINVERSION",`(${n[a.NUMERICIDENTIFIER]})\\.(${n[a.NUMERICIDENTIFIER]})\\.(${n[a.NUMERICIDENTIFIER]})`),o("MAINVERSIONLOOSE",`(${n[a.NUMERICIDENTIFIERLOOSE]})\\.(${n[a.NUMERICIDENTIFIERLOOSE]})\\.(${n[a.NUMERICIDENTIFIERLOOSE]})`),o("PRERELEASEIDENTIFIER",`(?:${n[a.NUMERICIDENTIFIER]}|${n[a.NONNUMERICIDENTIFIER]})`),o("PRERELEASEIDENTIFIERLOOSE",`(?:${n[a.NUMERICIDENTIFIERLOOSE]}|${n[a.NONNUMERICIDENTIFIER]})`),o("PRERELEASE",`(?:-(${n[a.PRERELEASEIDENTIFIER]}(?:\\.${n[a.PRERELEASEIDENTIFIER]})*))`),o("PRERELEASELOOSE",`(?:-?(${n[a.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${n[a.PRERELEASEIDENTIFIERLOOSE]})*))`),o("BUILDIDENTIFIER","[0-9A-Za-z-]+"),o("BUILD",`(?:\\+(${n[a.BUILDIDENTIFIER]}(?:\\.${n[a.BUILDIDENTIFIER]})*))`),o("FULLPLAIN",`v?${n[a.MAINVERSION]}${n[a.PRERELEASE]}?${n[a.BUILD]}?`),o("FULL",`^${n[a.FULLPLAIN]}$`),o("LOOSEPLAIN",`[v=\\s]*${n[a.MAINVERSIONLOOSE]}${n[a.PRERELEASELOOSE]}?${n[a.BUILD]}?`),o("LOOSE",`^${n[a.LOOSEPLAIN]}$`),o("GTLT","((?:<|>)?=?)"),o("XRANGEIDENTIFIERLOOSE",`${n[a.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),o("XRANGEIDENTIFIER",`${n[a.NUMERICIDENTIFIER]}|x|X|\\*`),o("XRANGEPLAIN",`[v=\\s]*(${n[a.XRANGEIDENTIFIER]})(?:\\.(${n[a.XRANGEIDENTIFIER]})(?:\\.(${n[a.XRANGEIDENTIFIER]})(?:${n[a.PRERELEASE]})?${n[a.BUILD]}?)?)?`),o("XRANGEPLAINLOOSE",`[v=\\s]*(${n[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${n[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${n[a.XRANGEIDENTIFIERLOOSE]})(?:${n[a.PRERELEASELOOSE]})?${n[a.BUILD]}?)?)?`),o("XRANGE",`^${n[a.GTLT]}\\s*${n[a.XRANGEPLAIN]}$`),o("XRANGELOOSE",`^${n[a.GTLT]}\\s*${n[a.XRANGEPLAINLOOSE]}$`),o("COERCE",`(^|[^\\d])(\\d{1,${s}})(?:\\.(\\d{1,${s}}))?(?:\\.(\\d{1,${s}}))?(?:$|[^\\d])`),o("COERCERTL",n[a.COERCE],!0),o("LONETILDE","(?:~>?)"),o("TILDETRIM",`(\\s*)${n[a.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",o("TILDE",`^${n[a.LONETILDE]}${n[a.XRANGEPLAIN]}$`),o("TILDELOOSE",`^${n[a.LONETILDE]}${n[a.XRANGEPLAINLOOSE]}$`),o("LONECARET","(?:\\^)"),o("CARETTRIM",`(\\s*)${n[a.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",o("CARET",`^${n[a.LONECARET]}${n[a.XRANGEPLAIN]}$`),o("CARETLOOSE",`^${n[a.LONECARET]}${n[a.XRANGEPLAINLOOSE]}$`),o("COMPARATORLOOSE",`^${n[a.GTLT]}\\s*(${n[a.LOOSEPLAIN]})$|^$`),o("COMPARATOR",`^${n[a.GTLT]}\\s*(${n[a.FULLPLAIN]})$|^$`),o("COMPARATORTRIM",`(\\s*)${n[a.GTLT]}\\s*(${n[a.LOOSEPLAIN]}|${n[a.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",o("HYPHENRANGE",`^\\s*(${n[a.XRANGEPLAIN]})\\s+-\\s+(${n[a.XRANGEPLAIN]})\\s*$`),o("HYPHENRANGELOOSE",`^\\s*(${n[a.XRANGEPLAINLOOSE]})\\s+-\\s+(${n[a.XRANGEPLAINLOOSE]})\\s*$`),o("STAR","(<|>)?=?\\s*\\*"),o("GTE0","^\\s*>=\\s*0.0.0\\s*$"),o("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")})(T,T.exports);const gt=["includePrerelease","loose","rtl"];var M=t=>t?typeof t!="object"?{loose:!0}:gt.filter(e=>t[e]).reduce((e,s)=>(e[s]=!0,e),{}):{};const ge=/^[0-9]+$/,Re=(t,e)=>{const s=ge.test(t),r=ge.test(e);return s&&r&&(t=+t,e=+e),t===e?0:s&&!r?-1:r&&!s?1:t<e?-1:1};var te={compareIdentifiers:Re,rcompareIdentifiers:(t,e)=>Re(e,t)};const U=X,{MAX_LENGTH:Ie,MAX_SAFE_INTEGER:q}=V,{re:Se,t:Ae}=T.exports,Rt=M,{compareIdentifiers:D}=te;class R{constructor(e,s){if(s=Rt(s),e instanceof R){if(e.loose===!!s.loose&&e.includePrerelease===!!s.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid Version: ${e}`);if(e.length>Ie)throw new TypeError(`version is longer than ${Ie} characters`);U("SemVer",e,s),this.options=s,this.loose=!!s.loose,this.includePrerelease=!!s.includePrerelease;const r=e.trim().match(s.loose?Se[Ae.LOOSE]:Se[Ae.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>q||this.major<0)throw new TypeError("Invalid major version");if(this.minor>q||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>q||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const n=+i;if(n>=0&&n<q)return n}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(U("SemVer.compare",this.version,this.options,e),!(e instanceof R)){if(typeof e=="string"&&e===this.version)return 0;e=new R(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof R||(e=new R(e,this.options)),D(this.major,e.major)||D(this.minor,e.minor)||D(this.patch,e.patch)}comparePre(e){if(e instanceof R||(e=new R(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let s=0;do{const r=this.prerelease[s],i=e.prerelease[s];if(U("prerelease compare",s,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return D(r,i)}while(++s)}compareBuild(e){e instanceof R||(e=new R(e,this.options));let s=0;do{const r=this.build[s],i=e.build[s];if(U("prerelease compare",s,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return D(r,i)}while(++s)}inc(e,s){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",s);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",s);break;case"prepatch":this.prerelease.length=0,this.inc("patch",s),this.inc("pre",s);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",s),this.inc("pre",s);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let r=this.prerelease.length;for(;--r>=0;)typeof this.prerelease[r]=="number"&&(this.prerelease[r]++,r=-2);r===-1&&this.prerelease.push(0)}s&&(this.prerelease[0]===s?isNaN(this.prerelease[1])&&(this.prerelease=[s,0]):this.prerelease=[s,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}}var _=R;const{MAX_LENGTH:It}=V,{re:Ne,t:Le}=T.exports,Oe=_,St=M;var w=(t,e)=>{if(e=St(e),t instanceof Oe)return t;if(typeof t!="string"||t.length>It||!(e.loose?Ne[Le.LOOSE]:Ne[Le.FULL]).test(t))return null;try{return new Oe(t,e)}catch{return null}};const At=w;var Nt=(t,e)=>{const s=At(t,e);return s?s.version:null};const Lt=w;var Ot=(t,e)=>{const s=Lt(t.trim().replace(/^[=v]+/,""),e);return s?s.version:null};const Tt=_;var yt=(t,e,s,r)=>{typeof s=="string"&&(r=s,s=void 0);try{return new Tt(t,s).inc(e,r).version}catch{return null}};const Te=_;var I=(t,e,s)=>new Te(t,s).compare(new Te(e,s));const Ct=I;var se=(t,e,s)=>Ct(t,e,s)===0;const ye=w,kt=se;var wt=(t,e)=>{if(kt(t,e))return null;{const s=ye(t),r=ye(e),i=s.prerelease.length||r.prerelease.length,n=i?"pre":"",a=i?"prerelease":"";for(const l in s)if((l==="major"||l==="minor"||l==="patch")&&s[l]!==r[l])return n+l;return a}};const bt=_;var xt=(t,e)=>new bt(t,e).major;const Dt=_;var Pt=(t,e)=>new Dt(t,e).minor;const Gt=_;var Ft=(t,e)=>new Gt(t,e).patch;const jt=w;var Kt=(t,e)=>{const s=jt(t,e);return s&&s.prerelease.length?s.prerelease:null};const Vt=I;var Xt=(t,e,s)=>Vt(e,t,s);const Mt=I;var Ut=(t,e)=>Mt(t,e,!0);const Ce=_;var re=(t,e,s)=>{const r=new Ce(t,s),i=new Ce(e,s);return r.compare(i)||r.compareBuild(i)};const qt=re;var Bt=(t,e)=>t.sort((s,r)=>qt(s,r,e));const Ht=re;var Yt=(t,e)=>t.sort((s,r)=>Ht(r,s,e));const zt=I;var B=(t,e,s)=>zt(t,e,s)>0;const Zt=I;var ne=(t,e,s)=>Zt(t,e,s)<0;const Qt=I;var ke=(t,e,s)=>Qt(t,e,s)!==0;const Wt=I;var ie=(t,e,s)=>Wt(t,e,s)>=0;const Jt=I;var ae=(t,e,s)=>Jt(t,e,s)<=0;const es=se,ts=ke,ss=B,rs=ie,ns=ne,is=ae;var we=(t,e,s,r)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof s=="object"&&(s=s.version),t===s;case"!==":return typeof t=="object"&&(t=t.version),typeof s=="object"&&(s=s.version),t!==s;case"":case"=":case"==":return es(t,s,r);case"!=":return ts(t,s,r);case">":return ss(t,s,r);case">=":return rs(t,s,r);case"<":return ns(t,s,r);case"<=":return is(t,s,r);default:throw new TypeError(`Invalid operator: ${e}`)}};const as=_,os=w,{re:H,t:Y}=T.exports;var ls=(t,e)=>{if(t instanceof as)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let s=null;if(!e.rtl)s=t.match(H[Y.COERCE]);else{let r;for(;(r=H[Y.COERCERTL].exec(t))&&(!s||s.index+s[0].length!==t.length);)(!s||r.index+r[0].length!==s.index+s[0].length)&&(s=r),H[Y.COERCERTL].lastIndex=r.index+r[1].length+r[2].length;H[Y.COERCERTL].lastIndex=-1}return s===null?null:os(`${s[2]}.${s[3]||"0"}.${s[4]||"0"}`,e)},cs=v;v.Node=y,v.create=v;function v(t){var e=this;if(e instanceof v||(e=new v),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var s=0,r=arguments.length;s<r;s++)e.push(arguments[s]);return e}v.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,s=t.prev;return e&&(e.prev=s),s&&(s.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=s),t.list.length--,t.next=null,t.prev=null,t.list=null,e},v.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}},v.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}},v.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)hs(this,arguments[t]);return this.length},v.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)fs(this,arguments[t]);return this.length},v.prototype.pop=function(){if(!!this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}},v.prototype.shift=function(){if(!!this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}},v.prototype.forEach=function(t,e){e=e||this;for(var s=this.head,r=0;s!==null;r++)t.call(e,s.value,r,this),s=s.next},v.prototype.forEachReverse=function(t,e){e=e||this;for(var s=this.tail,r=this.length-1;s!==null;r--)t.call(e,s.value,r,this),s=s.prev},v.prototype.get=function(t){for(var e=0,s=this.head;s!==null&&e<t;e++)s=s.next;if(e===t&&s!==null)return s.value},v.prototype.getReverse=function(t){for(var e=0,s=this.tail;s!==null&&e<t;e++)s=s.prev;if(e===t&&s!==null)return s.value},v.prototype.map=function(t,e){e=e||this;for(var s=new v,r=this.head;r!==null;)s.push(t.call(e,r.value,this)),r=r.next;return s},v.prototype.mapReverse=function(t,e){e=e||this;for(var s=new v,r=this.tail;r!==null;)s.push(t.call(e,r.value,this)),r=r.prev;return s},v.prototype.reduce=function(t,e){var s,r=this.head;if(arguments.length>1)s=e;else if(this.head)r=this.head.next,s=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;r!==null;i++)s=t(s,r.value,i),r=r.next;return s},v.prototype.reduceReverse=function(t,e){var s,r=this.tail;if(arguments.length>1)s=e;else if(this.tail)r=this.tail.prev,s=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;r!==null;i--)s=t(s,r.value,i),r=r.prev;return s},v.prototype.toArray=function(){for(var t=new Array(this.length),e=0,s=this.head;s!==null;e++)t[e]=s.value,s=s.next;return t},v.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,s=this.tail;s!==null;e++)t[e]=s.value,s=s.prev;return t},v.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var s=new v;if(e<t||e<0)return s;t<0&&(t=0),e>this.length&&(e=this.length);for(var r=0,i=this.head;i!==null&&r<t;r++)i=i.next;for(;i!==null&&r<e;r++,i=i.next)s.push(i.value);return s},v.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var s=new v;if(e<t||e<0)return s;t<0&&(t=0),e>this.length&&(e=this.length);for(var r=this.length,i=this.tail;i!==null&&r>e;r--)i=i.prev;for(;i!==null&&r>t;r--,i=i.prev)s.push(i.value);return s},v.prototype.splice=function(t,e,...s){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var r=0,i=this.head;i!==null&&r<t;r++)i=i.next;for(var n=[],r=0;i&&r<e;r++)n.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var r=0;r<s.length;r++)i=us(this,i,s[r]);return n},v.prototype.reverse=function(){for(var t=this.head,e=this.tail,s=t;s!==null;s=s.prev){var r=s.prev;s.prev=s.next,s.next=r}return this.head=e,this.tail=t,this};function us(t,e,s){var r=e===t.head?new y(s,null,e,t):new y(s,e,e.next,t);return r.next===null&&(t.tail=r),r.prev===null&&(t.head=r),t.length++,r}function hs(t,e){t.tail=new y(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function fs(t,e){t.head=new y(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function y(t,e,s,r){if(!(this instanceof y))return new y(t,e,s,r);this.list=r,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,s?(s.prev=this,this.next=s):this.next=null}try{require("./iterator.js")(v)}catch{}const ms=cs,C=Symbol("max"),L=Symbol("length"),b=Symbol("lengthCalculator"),P=Symbol("allowStale"),k=Symbol("maxAge"),O=Symbol("dispose"),be=Symbol("noDisposeOnSet"),d=Symbol("lruList"),S=Symbol("cache"),xe=Symbol("updateAgeOnGet"),oe=()=>1;class vs{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");this[C]=e.max||1/0;const s=e.length||oe;if(this[b]=typeof s!="function"?oe:s,this[P]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[k]=e.maxAge||0,this[O]=e.dispose,this[be]=e.noDisposeOnSet||!1,this[xe]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[C]=e||1/0,G(this)}get max(){return this[C]}set allowStale(e){this[P]=!!e}get allowStale(){return this[P]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[k]=e,G(this)}get maxAge(){return this[k]}set lengthCalculator(e){typeof e!="function"&&(e=oe),e!==this[b]&&(this[b]=e,this[L]=0,this[d].forEach(s=>{s.length=this[b](s.value,s.key),this[L]+=s.length})),G(this)}get lengthCalculator(){return this[b]}get length(){return this[L]}get itemCount(){return this[d].length}rforEach(e,s){s=s||this;for(let r=this[d].tail;r!==null;){const i=r.prev;De(this,e,r,s),r=i}}forEach(e,s){s=s||this;for(let r=this[d].head;r!==null;){const i=r.next;De(this,e,r,s),r=i}}keys(){return this[d].toArray().map(e=>e.key)}values(){return this[d].toArray().map(e=>e.value)}reset(){this[O]&&this[d]&&this[d].length&&this[d].forEach(e=>this[O](e.key,e.value)),this[S]=new Map,this[d]=new ms,this[L]=0}dump(){return this[d].map(e=>z(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[d]}set(e,s,r){if(r=r||this[k],r&&typeof r!="number")throw new TypeError("maxAge must be a number");const i=r?Date.now():0,n=this[b](s,e);if(this[S].has(e)){if(n>this[C])return x(this,this[S].get(e)),!1;const o=this[S].get(e).value;return this[O]&&(this[be]||this[O](e,o.value)),o.now=i,o.maxAge=r,o.value=s,this[L]+=n-o.length,o.length=n,this.get(e),G(this),!0}const a=new ps(e,s,n,i,r);return a.length>this[C]?(this[O]&&this[O](e,s),!1):(this[L]+=a.length,this[d].unshift(a),this[S].set(e,this[d].head),G(this),!0)}has(e){if(!this[S].has(e))return!1;const s=this[S].get(e).value;return!z(this,s)}get(e){return le(this,e,!0)}peek(e){return le(this,e,!1)}pop(){const e=this[d].tail;return e?(x(this,e),e.value):null}del(e){x(this,this[S].get(e))}load(e){this.reset();const s=Date.now();for(let r=e.length-1;r>=0;r--){const i=e[r],n=i.e||0;if(n===0)this.set(i.k,i.v);else{const a=n-s;a>0&&this.set(i.k,i.v,a)}}}prune(){this[S].forEach((e,s)=>le(this,s,!1))}}const le=(t,e,s)=>{const r=t[S].get(e);if(r){const i=r.value;if(z(t,i)){if(x(t,r),!t[P])return}else s&&(t[xe]&&(r.value.now=Date.now()),t[d].unshiftNode(r));return i.value}},z=(t,e)=>{if(!e||!e.maxAge&&!t[k])return!1;const s=Date.now()-e.now;return e.maxAge?s>e.maxAge:t[k]&&s>t[k]},G=t=>{if(t[L]>t[C])for(let e=t[d].tail;t[L]>t[C]&&e!==null;){const s=e.prev;x(t,e),e=s}},x=(t,e)=>{if(e){const s=e.value;t[O]&&t[O](s.key,s.value),t[L]-=s.length,t[S].delete(s.key),t[d].removeNode(e)}};class ps{constructor(e,s,r,i,n){this.key=e,this.value=s,this.length=r,this.now=i,this.maxAge=n||0}}const De=(t,e,s,r)=>{let i=s.value;z(t,i)&&(x(t,s),t[P]||(i=void 0)),i&&e.call(r,i.value,i.key,t)};var ds=vs;class F{constructor(e,s){if(s=Es(s),e instanceof F)return e.loose===!!s.loose&&e.includePrerelease===!!s.includePrerelease?e:new F(e.raw,s);if(e instanceof ce)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=s,this.loose=!!s.loose,this.includePrerelease=!!s.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(r=>this.parseRange(r.trim())).filter(r=>r.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){const r=this.set[0];if(this.set=this.set.filter(i=>!Ge(i[0])),this.set.length===0)this.set=[r];else if(this.set.length>1){for(const i of this.set)if(i.length===1&&Ss(i[0])){this.set=[i];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();const r=`parseRange:${Object.keys(this.options).join(",")}:${e}`,i=Pe.get(r);if(i)return i;const n=this.options.loose,a=n?E[$.HYPHENRANGELOOSE]:E[$.HYPHENRANGE];e=e.replace(a,bs(this.options.includePrerelease)),p("hyphen replace",e),e=e.replace(E[$.COMPARATORTRIM],gs),p("comparator trim",e,E[$.COMPARATORTRIM]),e=e.replace(E[$.TILDETRIM],Rs),e=e.replace(E[$.CARETTRIM],Is),e=e.split(/\s+/).join(" ");const l=n?E[$.COMPARATORLOOSE]:E[$.COMPARATOR],o=e.split(" ").map(c=>As(c,this.options)).join(" ").split(/\s+/).map(c=>ws(c,this.options)).filter(this.options.loose?c=>!!c.match(l):()=>!0).map(c=>new ce(c,this.options));o.length;const h=new Map;for(const c of o){if(Ge(c))return[c];h.set(c.value,c)}h.size>1&&h.has("")&&h.delete("");const f=[...h.values()];return Pe.set(r,f),f}intersects(e,s){if(!(e instanceof F))throw new TypeError("a Range is required");return this.set.some(r=>Fe(r,s)&&e.set.some(i=>Fe(i,s)&&r.every(n=>i.every(a=>n.intersects(a,s)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new _s(e,this.options)}catch{return!1}for(let s=0;s<this.set.length;s++)if(xs(this.set[s],e,this.options))return!0;return!1}}var A=F;const $s=ds,Pe=new $s({max:1e3}),Es=M,ce=Q,p=X,_s=_,{re:E,t:$,comparatorTrimReplace:gs,tildeTrimReplace:Rs,caretTrimReplace:Is}=T.exports,Ge=t=>t.value==="<0.0.0-0",Ss=t=>t.value==="",Fe=(t,e)=>{let s=!0;const r=t.slice();let i=r.pop();for(;s&&r.length;)s=r.every(n=>i.intersects(n,e)),i=r.pop();return s},As=(t,e)=>(p("comp",t,e),t=Os(t,e),p("caret",t),t=Ns(t,e),p("tildes",t),t=ys(t,e),p("xrange",t),t=ks(t,e),p("stars",t),t),g=t=>!t||t.toLowerCase()==="x"||t==="*",Ns=(t,e)=>t.trim().split(/\s+/).map(s=>Ls(s,e)).join(" "),Ls=(t,e)=>{const s=e.loose?E[$.TILDELOOSE]:E[$.TILDE];return t.replace(s,(r,i,n,a,l)=>{p("tilde",t,r,i,n,a,l);let o;return g(i)?o="":g(n)?o=`>=${i}.0.0 <${+i+1}.0.0-0`:g(a)?o=`>=${i}.${n}.0 <${i}.${+n+1}.0-0`:l?(p("replaceTilde pr",l),o=`>=${i}.${n}.${a}-${l} <${i}.${+n+1}.0-0`):o=`>=${i}.${n}.${a} <${i}.${+n+1}.0-0`,p("tilde return",o),o})},Os=(t,e)=>t.trim().split(/\s+/).map(s=>Ts(s,e)).join(" "),Ts=(t,e)=>{p("caret",t,e);const s=e.loose?E[$.CARETLOOSE]:E[$.CARET],r=e.includePrerelease?"-0":"";return t.replace(s,(i,n,a,l,o)=>{p("caret",t,i,n,a,l,o);let h;return g(n)?h="":g(a)?h=`>=${n}.0.0${r} <${+n+1}.0.0-0`:g(l)?n==="0"?h=`>=${n}.${a}.0${r} <${n}.${+a+1}.0-0`:h=`>=${n}.${a}.0${r} <${+n+1}.0.0-0`:o?(p("replaceCaret pr",o),n==="0"?a==="0"?h=`>=${n}.${a}.${l}-${o} <${n}.${a}.${+l+1}-0`:h=`>=${n}.${a}.${l}-${o} <${n}.${+a+1}.0-0`:h=`>=${n}.${a}.${l}-${o} <${+n+1}.0.0-0`):(p("no pr"),n==="0"?a==="0"?h=`>=${n}.${a}.${l}${r} <${n}.${a}.${+l+1}-0`:h=`>=${n}.${a}.${l}${r} <${n}.${+a+1}.0-0`:h=`>=${n}.${a}.${l} <${+n+1}.0.0-0`),p("caret return",h),h})},ys=(t,e)=>(p("replaceXRanges",t,e),t.split(/\s+/).map(s=>Cs(s,e)).join(" ")),Cs=(t,e)=>{t=t.trim();const s=e.loose?E[$.XRANGELOOSE]:E[$.XRANGE];return t.replace(s,(r,i,n,a,l,o)=>{p("xRange",t,r,i,n,a,l,o);const h=g(n),f=h||g(a),c=f||g(l),m=c;return i==="="&&m&&(i=""),o=e.includePrerelease?"-0":"",h?i===">"||i==="<"?r="<0.0.0-0":r="*":i&&m?(f&&(a=0),l=0,i===">"?(i=">=",f?(n=+n+1,a=0,l=0):(a=+a+1,l=0)):i==="<="&&(i="<",f?n=+n+1:a=+a+1),i==="<"&&(o="-0"),r=`${i+n}.${a}.${l}${o}`):f?r=`>=${n}.0.0${o} <${+n+1}.0.0-0`:c&&(r=`>=${n}.${a}.0${o} <${n}.${+a+1}.0-0`),p("xRange return",r),r})},ks=(t,e)=>(p("replaceStars",t,e),t.trim().replace(E[$.STAR],"")),ws=(t,e)=>(p("replaceGTE0",t,e),t.trim().replace(E[e.includePrerelease?$.GTE0PRE:$.GTE0],"")),bs=t=>(e,s,r,i,n,a,l,o,h,f,c,m,u)=>(g(r)?s="":g(i)?s=`>=${r}.0.0${t?"-0":""}`:g(n)?s=`>=${r}.${i}.0${t?"-0":""}`:a?s=`>=${s}`:s=`>=${s}${t?"-0":""}`,g(h)?o="":g(f)?o=`<${+h+1}.0.0-0`:g(c)?o=`<${h}.${+f+1}.0-0`:m?o=`<=${h}.${f}.${c}-${m}`:t?o=`<${h}.${f}.${+c+1}-0`:o=`<=${o}`,`${s} ${o}`.trim()),xs=(t,e,s)=>{for(let r=0;r<t.length;r++)if(!t[r].test(e))return!1;if(e.prerelease.length&&!s.includePrerelease){for(let r=0;r<t.length;r++)if(p(t[r].semver),t[r].semver!==ce.ANY&&t[r].semver.prerelease.length>0){const i=t[r].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0},j=Symbol("SemVer ANY");class Z{static get ANY(){return j}constructor(e,s){if(s=Ds(s),e instanceof Z){if(e.loose===!!s.loose)return e;e=e.value}he("comparator",e,s),this.options=s,this.loose=!!s.loose,this.parse(e),this.semver===j?this.value="":this.value=this.operator+this.semver.version,he("comp",this)}parse(e){const s=this.options.loose?je[Ke.COMPARATORLOOSE]:je[Ke.COMPARATOR],r=e.match(s);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=r[1]!==void 0?r[1]:"",this.operator==="="&&(this.operator=""),r[2]?this.semver=new Ve(r[2],this.options.loose):this.semver=j}toString(){return this.value}test(e){if(he("Comparator.test",e,this.options.loose),this.semver===j||e===j)return!0;if(typeof e=="string")try{e=new Ve(e,this.options)}catch{return!1}return ue(e,this.operator,this.semver,this.options)}intersects(e,s){if(!(e instanceof Z))throw new TypeError("a Comparator is required");if((!s||typeof s!="object")&&(s={loose:!!s,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new Xe(e.value,s).test(this.value);if(e.operator==="")return e.value===""?!0:new Xe(this.value,s).test(e.semver);const r=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<"),n=this.semver.version===e.semver.version,a=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<="),l=ue(this.semver,"<",e.semver,s)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),o=ue(this.semver,">",e.semver,s)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return r||i||n&&a||l||o}}var Q=Z;const Ds=M,{re:je,t:Ke}=T.exports,ue=we,he=X,Ve=_,Xe=A,Ps=A;var W=(t,e,s)=>{try{e=new Ps(e,s)}catch{return!1}return e.test(t)};const Gs=A;var Fs=(t,e)=>new Gs(t,e).set.map(s=>s.map(r=>r.value).join(" ").trim().split(" "));const js=_,Ks=A;var Vs=(t,e,s)=>{let r=null,i=null,n=null;try{n=new Ks(e,s)}catch{return null}return t.forEach(a=>{n.test(a)&&(!r||i.compare(a)===-1)&&(r=a,i=new js(r,s))}),r};const Xs=_,Ms=A;var Us=(t,e,s)=>{let r=null,i=null,n=null;try{n=new Ms(e,s)}catch{return null}return t.forEach(a=>{n.test(a)&&(!r||i.compare(a)===1)&&(r=a,i=new Xs(r,s))}),r};const fe=_,qs=A,Me=B;var Bs=(t,e)=>{t=new qs(t,e);let s=new fe("0.0.0");if(t.test(s)||(s=new fe("0.0.0-0"),t.test(s)))return s;s=null;for(let r=0;r<t.set.length;++r){const i=t.set[r];let n=null;i.forEach(a=>{const l=new fe(a.semver.version);switch(a.operator){case">":l.prerelease.length===0?l.patch++:l.prerelease.push(0),l.raw=l.format();case"":case">=":(!n||Me(l,n))&&(n=l);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),n&&(!s||Me(s,n))&&(s=n)}return s&&t.test(s)?s:null};const Hs=A;var Ys=(t,e)=>{try{return new Hs(t,e).range||"*"}catch{return null}};const zs=_,Ue=Q,{ANY:Zs}=Ue,Qs=A,Ws=W,qe=B,Be=ne,Js=ae,er=ie;var me=(t,e,s,r)=>{t=new zs(t,r),e=new Qs(e,r);let i,n,a,l,o;switch(s){case">":i=qe,n=Js,a=Be,l=">",o=">=";break;case"<":i=Be,n=er,a=qe,l="<",o="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Ws(t,e,r))return!1;for(let h=0;h<e.set.length;++h){const f=e.set[h];let c=null,m=null;if(f.forEach(u=>{u.semver===Zs&&(u=new Ue(">=0.0.0")),c=c||u,m=m||u,i(u.semver,c.semver,r)?c=u:a(u.semver,m.semver,r)&&(m=u)}),c.operator===l||c.operator===o||(!m.operator||m.operator===l)&&n(t,m.semver))return!1;if(m.operator===o&&a(t,m.semver))return!1}return!0};const tr=me;var sr=(t,e,s)=>tr(t,e,">",s);const rr=me;var nr=(t,e,s)=>rr(t,e,"<",s);const He=A;var ir=(t,e,s)=>(t=new He(t,s),e=new He(e,s),t.intersects(e));const ar=W,or=I;var lr=(t,e,s)=>{const r=[];let i=null,n=null;const a=t.sort((f,c)=>or(f,c,s));for(const f of a)ar(f,e,s)?(n=f,i||(i=f)):(n&&r.push([i,n]),n=null,i=null);i&&r.push([i,null]);const l=[];for(const[f,c]of r)f===c?l.push(f):!c&&f===a[0]?l.push("*"):c?f===a[0]?l.push(`<=${c}`):l.push(`${f} - ${c}`):l.push(`>=${f}`);const o=l.join(" || "),h=typeof e.raw=="string"?e.raw:String(e);return o.length<h.length?o:e};const Ye=A,J=Q,{ANY:ve}=J,K=W,pe=I,cr=(t,e,s={})=>{if(t===e)return!0;t=new Ye(t,s),e=new Ye(e,s);let r=!1;e:for(const i of t.set){for(const n of e.set){const a=ur(i,n,s);if(r=r||a!==null,a)continue e}if(r)return!1}return!0},ur=(t,e,s)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===ve){if(e.length===1&&e[0].semver===ve)return!0;s.includePrerelease?t=[new J(">=0.0.0-0")]:t=[new J(">=0.0.0")]}if(e.length===1&&e[0].semver===ve){if(s.includePrerelease)return!0;e=[new J(">=0.0.0")]}const r=new Set;let i,n;for(const u of t)u.operator===">"||u.operator===">="?i=ze(i,u,s):u.operator==="<"||u.operator==="<="?n=Ze(n,u,s):r.add(u.semver);if(r.size>1)return null;let a;if(i&&n){if(a=pe(i.semver,n.semver,s),a>0)return null;if(a===0&&(i.operator!==">="||n.operator!=="<="))return null}for(const u of r){if(i&&!K(u,String(i),s)||n&&!K(u,String(n),s))return null;for(const ee of e)if(!K(u,String(ee),s))return!1;return!0}let l,o,h,f,c=n&&!s.includePrerelease&&n.semver.prerelease.length?n.semver:!1,m=i&&!s.includePrerelease&&i.semver.prerelease.length?i.semver:!1;c&&c.prerelease.length===1&&n.operator==="<"&&c.prerelease[0]===0&&(c=!1);for(const u of e){if(f=f||u.operator===">"||u.operator===">=",h=h||u.operator==="<"||u.operator==="<=",i){if(m&&u.semver.prerelease&&u.semver.prerelease.length&&u.semver.major===m.major&&u.semver.minor===m.minor&&u.semver.patch===m.patch&&(m=!1),u.operator===">"||u.operator===">="){if(l=ze(i,u,s),l===u&&l!==i)return!1}else if(i.operator===">="&&!K(i.semver,String(u),s))return!1}if(n){if(c&&u.semver.prerelease&&u.semver.prerelease.length&&u.semver.major===c.major&&u.semver.minor===c.minor&&u.semver.patch===c.patch&&(c=!1),u.operator==="<"||u.operator==="<="){if(o=Ze(n,u,s),o===u&&o!==n)return!1}else if(n.operator==="<="&&!K(n.semver,String(u),s))return!1}if(!u.operator&&(n||i)&&a!==0)return!1}return!(i&&h&&!n&&a!==0||n&&f&&!i&&a!==0||m||c)},ze=(t,e,s)=>{if(!t)return e;const r=pe(t.semver,e.semver,s);return r>0?t:r<0||e.operator===">"&&t.operator===">="?e:t},Ze=(t,e,s)=>{if(!t)return e;const r=pe(t.semver,e.semver,s);return r<0?t:r>0||e.operator==="<"&&t.operator==="<="?e:t};var hr=cr;const de=T.exports;var $e={re:de.re,src:de.src,tokens:de.t,SEMVER_SPEC_VERSION:V.SEMVER_SPEC_VERSION,SemVer:_,compareIdentifiers:te.compareIdentifiers,rcompareIdentifiers:te.rcompareIdentifiers,parse:w,valid:Nt,clean:Ot,inc:yt,diff:wt,major:xt,minor:Pt,patch:Ft,prerelease:Kt,compare:I,rcompare:Xt,compareLoose:Ut,compareBuild:re,sort:Bt,rsort:Yt,gt:B,lt:ne,eq:se,neq:ke,gte:ie,lte:ae,cmp:we,coerce:ls,Comparator:Q,Range:A,satisfies:W,toComparators:Fs,maxSatisfying:Vs,minSatisfying:Us,minVersion:Bs,validRange:Ys,outside:me,gtr:sr,ltr:nr,intersects:ir,simplifyRange:lr,subset:hr},fr=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"k-support"},[t.hasError?s("div",{staticClass:"error"},[s("k-info-field",{attrs:{theme:"negative",label:"Ooops",text:"The current version could not be fetched. You may have reached an API limit"}})],1):s("div",{staticClass:"versionBox"},[t.hasVersionDiff?s("div",[s("h4",{staticClass:"update-available"},[t._v("There is an update available")]),s("h3",{staticClass:"version"},[t._v(t._s(this.releaseInfo))])]):s("div",[s("h4",[t._v("Your Komments plugin is up to date")])]),s("small",{staticClass:"align-center"},[t._v("Your installed version is "+t._s(this.version))])])])},mr=[],Gn="";const vr={data(){return{version:"",releaseInfo:0,hasVersionDiff:!1,hasError:!1}},created(){this.load()},computed:{},methods:{load(){this.$api.get("komments/version").then(t=>{this.version=t.version}).then(()=>{fetch("https://repo.packagist.org/p/mauricerenck/komments.json",{method:"GET"}).then(t=>t.json()).then(t=>{t.status==="error"&&(this.hasError=!0),this.releaseInfo=this.version;const e=this.version;Object.keys(t.packages["mauricerenck/komments"]).sort().forEach(s=>{if(!$e.valid(s))return!1;$e.gt(s,e)&&(this.hasVersionDiff=$e.gt(s,e),this.releaseInfo=s.toString())})}).catch(t=>{console.log("catch",t),this.hasError=!0})})}}},Qe={};var pr=N(vr,fr,mr,!1,dr,null,null,null);function dr(t){for(let e in Qe)this[e]=Qe[e]}var $r=function(){return pr.exports}(),Er=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("k-view",{staticClass:"k-kommentviews-view"},[s("k-header",[t._v("Komments")]),s("k-grid",{attrs:{gutter:"large"}},[s("k-column",{attrs:{width:"2/4"}},[s("k-headline-field",{attrs:{label:"In moderation"}}),s("QueuedKomments")],1),s("k-column",{attrs:{width:"1/4"}},[s("k-headline-field",{attrs:{label:"Marked as spam"}}),s("SpamKomments")],1),s("k-column",{attrs:{width:"1/4"}},[s("k-headline-field",{attrs:{label:"Plugin"}}),s("Support")],1)],1)],1)},_r=[];const gr={components:{QueuedKomments:ut,SpamKomments:dt,Support:$r}},We={};var Rr=N(gr,Er,_r,!1,Ir,null,null,null);function Ir(t){for(let e in We)this[e]=We[e]}var Sr=function(){return Rr.exports}(),Ar=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("k-inside",[s("k-view",{staticClass:"k-komments-view"},[s("k-header",[t._v("Komments")]),s("k-grid",{attrs:{gutter:"medium"}},[s("k-column",{attrs:{width:"3/4"}},[t.kommentList.length===0?s("div",{staticClass:"so-empty"},[s("img",{attrs:{src:"/assets/undraw_empty_street_sfxm.svg"}}),s("div",[s("k-info-field",{attrs:{theme:"positive",text:"There are no comments waiting for moderation. Have a nice day!"}})],1)]):s("k-grid",[s("k-column",{staticClass:"komment-list",attrs:{width:"1/2"}},[s("KommentList",{attrs:{queuedKomments:t.kommentList,onSelectKomment:t.selectKomment,selectedKomment:this.selectedKomment}})],1),s("k-column",{staticClass:"komment-details",attrs:{width:"1/2"}},[s("KommentDetails",{attrs:{komment:this.selectedKomment,onMarkAsSpam:this.onMarkAsSpam,onMarkAsVerified:this.onMarkAsVerified,onMarkAsPublished:this.onMarkAsPublished,onDelete:this.onDelete}})],1)],1)],1),s("k-column",{attrs:{width:"1/4"}},[s("KommentVersion",{attrs:{version:t.version}})],1)],1)],1)],1)},Nr=[];const Lr={data(){return{selectedKomment:{},kommentList:[]}},props:{title:String,queuedKomments:Array,version:Object},created(){this.kommentList=this.queuedKomments,this.loadKomments(),this.kommentList[0]&&this.selectKomment(this.kommentList[0].id)},methods:{loadKomments(){this.$api.get("komments/queued").then(t=>{this.komments=t})},selectKomment(t){this.selectedKomment=this.queuedKomments.find(e=>e.id===t)},onMarkAsSpam(t){for(let e=0;e<this.kommentList.length;e++)this.kommentList[e].id===this.selectedKomment.id&&(this.kommentList[e].spamlevel=t?100:0,t&&(this.kommentList[e].verified=!1,this.kommentList[e].status=!1))},onMarkAsVerified(t){for(let e=0;e<this.kommentList.length;e++)this.kommentList[e].id===this.selectedKomment.id&&(this.kommentList[e].verified=t)},onMarkAsPublished(t){for(let e=0;e<this.kommentList.length;e++)this.kommentList[e].id===this.selectedKomment.id&&(this.kommentList[e].status=t)},onDelete(){this.kommentList=this.kommentList.filter(t=>t.id!==this.selectedKomment.id)}}},Je={};var Or=N(Lr,Ar,Nr,!1,Tr,null,null,null);function Tr(t){for(let e in Je)this[e]=Je[e]}var et=function(){return Or.exports}(),yr=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"komment-moderation"},[t.komment.id?s("div",[s("k-grid",{attrs:{gutter:"medium"}},[s("k-column",{staticClass:"avatar",attrs:{width:"2/12"}},[t.komment.image?s("img",{attrs:{src:t.komment.image}}):t._e()]),s("k-column",{staticClass:"komment-info",attrs:{width:"10/12"}},[s("div",[s("strong",[t._v(t._s(t.komment.author))])]),s("div",{staticClass:"meta"},[t._v(t._s(t.komment.published))]),s("div",{staticClass:"meta"},[t._v(t._s(t.komment.title))])])],1),s("div",{staticClass:"actions"},[s("k-bar",[s("template",{slot:"left"},[t.komment.verified===!0?s("k-button",{attrs:{theme:"positive",icon:"toggle-on"},on:{click:function(r){return t.markAsVerified(t.komment.slug,t.komment.id,!1)}}},[t._v(" Verified ")]):s("k-button",{attrs:{icon:"toggle-off",disabled:t.komment.spamlevel>0},on:{click:function(r){return t.markAsVerified(t.komment.slug,t.komment.id,!0)}}},[t._v(" Verified ")]),t.komment.spamlevel===0?s("k-button",{attrs:{icon:"toggle-off"},on:{click:function(r){return t.markAsSpam(t.komment.slug,t.komment.id,!0)}}},[t._v(" Spam ")]):s("k-button",{attrs:{theme:"negative",icon:"toggle-on"},on:{click:function(r){return t.markAsSpam(t.komment.slug,t.komment.id,!1)}}},[t._v(" Spam ")]),t.komment.status===!0?s("k-button",{staticClass:"publish",attrs:{theme:"positive",icon:"toggle-on"},on:{click:function(r){return t.publish(t.komment.slug,t.komment.id,!1)}}},[t._v(" Published ")]):s("k-button",{staticClass:"publish",attrs:{disabled:t.komment.spamlevel>0,icon:"toggle-off"},on:{click:function(r){return t.publish(t.komment.slug,t.komment.id,!0)}}},[t._v(" Published ")])],1),s("template",{slot:"right"},[s("k-button",{attrs:{theme:"negative",icon:"trash"},on:{click:function(r){return t.$refs.deleteDialog.open()}}},[t._v(" Delete ")]),s("k-dialog",{ref:"deleteDialog",attrs:{button:"Delete",theme:"negative",icon:"trash"},on:{submit:function(r){return t.deleteKomment(t.komment.slug,t.komment.id,t.$refs)}}},[s("k-text",[t._v(" Do you really want to delete the comment? This cannot be undone. ")])],1)],1)],2)],1),s("div",{staticClass:"text"},[t._v(t._s(t.komment.komment))])],1):t._e()])},Cr=[],Fn="";const kr={props:{komment:Object,onMarkAsSpam:Function,onMarkAsVerified:Function,onMarkAsPublished:Function,onDelete:Function},methods:{markAsSpam(t,e,s){this.$api.post("komments/spam",{pageSlug:t,kommentId:e,isSpam:s}).then(()=>{this.onMarkAsSpam(s)})},markAsVerified(t,e,s){this.$api.post("komments/verify",{pageSlug:t,kommentId:e,isVerified:s}).then(()=>{this.onMarkAsVerified(s)})},publish(t,e,s){this.$api.post("komments/publish",{pageSlug:t,kommentId:e,isPublished:s}).then(()=>{this.onMarkAsPublished(s)})},deleteKomment(t,e,s){this.$api.post("komments/delete",{pageSlug:t,kommentId:e}).then(()=>{this.onDelete(),s.deleteDialog.close()})}}},tt={};var wr=N(kr,yr,Cr,!1,br,null,null,null);function br(t){for(let e in tt)this[e]=tt[e]}var xr=function(){return wr.exports}(),Dr=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"komments-list"},[s("ul",t._l(t.queuedKomments,function(r,i){return s("li",{key:i,staticClass:"list-item",class:{active:t.selectedKomment.id===r.id,isSpam:r.spamlevel>0,isVerified:r.verified===!0},on:{click:function(n){return t.onSelectKomment(r.id)},keypress:function(n){return t.onSelectKomment(r.id)}}},[s("k-grid",[s("k-column",{staticClass:"avatar",attrs:{width:"2/12"}},[r.image?s("img",{attrs:{src:r.image}}):t._e()]),s("k-column",{attrs:{width:"10/12"}},[s("div",{staticClass:"komment-preview"},[s("div",{staticClass:"author"},[s("strong",[t._v(t._s(r.author))])]),s("div",{staticClass:"meta"},[t._v(t._s(r.published)+" - "+t._s(r.title))]),s("div",{staticClass:"preview"},[t._v(" "+t._s(r.komment.substr(0,60)+"\u2026")+" ")])])]),s("k-column",{attrs:{width:"2/12"}}),s("k-column",{attrs:{width:"10/12"}},[s("div",{staticClass:"status"},[r.status===!1?s("span",{staticClass:"badge",attrs:{alt:"pending",title:"pending"}},[t._v(" pending ")]):r.status===!0?s("span",{staticClass:"badge blue",attrs:{alt:"published",title:"published"}},[t._v(" published ")]):t._e(),r.verified===!0?s("span",{staticClass:"badge green",attrs:{alt:"Verified user",title:"Verified user"}},[t._v(" verified ")]):t._e(),r.spamlevel>0?s("span",{staticClass:"badge red",attrs:{alt:"Possible spam comment",title:"Possible spam comment"}},[t._v(" spam ")]):t._e()])])],1)],1)}),0)])},Pr=[],jn="";const Gr={props:{queuedKomments:Array,onSelectKomment:Function,selectedKomment:Object}},st={};var Fr=N(Gr,Dr,Pr,!1,jr,null,null,null);function jr(t){for(let e in st)this[e]=st[e]}var Kr=function(){return Fr.exports}(),Vr=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.version.error?s("div",{staticClass:"error"},[s("k-info-field",{attrs:{theme:"negative",label:"Sorry",text:"The current version could not be fetched."}})],1):s("div",{staticClass:"version-box"},[t.version.updateAvailable?s("div",[s("h4",{staticClass:"update-available"},[t._v("There is an update available")]),s("h3",{staticClass:"version"},[t._v(t._s(t.version.latest))])]):s("div",[s("h4",[t._v("This plugin is up to date")])]),s("small",{staticClass:"align-center"},[t._v(" Your installed version is "+t._s(t.version.local)+" ")])])])},Xr=[],Kn="";const Mr={props:{version:Object}},rt={};var Ur=N(Mr,Vr,Xr,!1,qr,null,null,null);function qr(t){for(let e in rt)this[e]=rt[e]}var Br=function(){return Ur.exports}(),Hr=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"kommentsPendingCounter"},[s("k-headline",[t._v(t._s(t.label))]),s("div",{staticClass:"count"},[t._v(t._s(t.queuedComments))])],1)},Yr=[],Vn="";const zr={props:{queuedComments:Number,label:String}},nt={};var Zr=N(zr,Hr,Yr,!1,Qr,null,null,null);function Qr(t){for(let e in nt)this[e]=nt[e]}var Wr=function(){return Zr.exports}();panel.plugin("mauricerenck/komments",{components:{"k-komments-view":et,KommentDetails:xr,KommentList:Kr,KommentVersion:Br},fields:{komments:et,kommentsPending:Wr},views:{queuedKommments:{component:Sr,icon:"chat",label:"Komments"}}})})();})();
